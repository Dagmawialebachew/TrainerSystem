{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}{{ block.super }}{% endblock %}  {# Page <title> #}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6 px-4 sm:px-6 lg:px-8">

    <!-- Back Button -->
 <!-- Back Link -->
    <div>
        <a href="{% block back_url %}#{% endblock %}" 
           class="text-accent-500 font-medium hover:text-accent-700 flex items-center space-x-2">
            <i class="fas fa-arrow-left"></i>
            <span>Back</span>
        </a>
    </div>



    <div class="bg-white shadow-lg rounded-2xl p-6 hover:shadow-xl transition">
        <h1 class="text-2xl sm:text-3xl font-bold text-primary-900 mb-6">{% block form_title %}Form{% endblock %}</h1>

        <form method="{% block form_method %}post{% endblock %}" 
              enctype="{% block form_enctype %}multipart/form-data{% endblock %}" 
              class="space-y-5"
         >
            {% csrf_token %}

            {% block form_fields %}
            {% for field in form %}
                {% if field.name != 'preferred_workout_days' %}
                <div class="flex flex-col">
                    <label class="block text-sm font-medium text-primary-800 mb-1">{{ field.label }}</label>
                    {{ field|add_class:"w-full px-4 py-2 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-400 focus:outline-none transition shadow-sm" }}
                    {% if field.errors %}
                        <p class="text-sm text-warning-700 mt-1">{{ field.errors|join:", " }}</p>
                    {% endif %}
                    {% if field.help_text %}
                        <p class="text-sm text-primary-500 mt-1">{{ field.help_text }}</p>
                    {% endif %}
                </div>
                {% else %}
                {% if field.name == 'preferred_workout_days' %}
  <div class="flex flex-col gap-2">
    <label class="text-sm font-semibold text-gray-900 tracking-tight">
      Preferred Workout Days
    </label>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mt-1">
      {% for checkbox in form.preferred_workout_days %}
        <label class="group inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-xl cursor-pointer transition hover:border-primary-400 hover:bg-primary-50">
          {{ checkbox.tag }}
          <span class="text-sm text-gray-800 group-hover:text-primary-700">{{ checkbox.choice_label }}</span>
        </label>
      {% endfor %}
    </div>

    {% if field.help_text %}
      <p class="text-xs text-gray-500 mt-1">{{ field.help_text }}</p>
    {% endif %}

    {% for error in form.preferred_workout_days.errors %}
      <p class="text-xs text-red-600 mt-1">{{ error }}</p>
    {% endfor %}
  </div>
{% endif %}

{% endif %}
            {% endfor %}
            {% endblock %}

            

            <button type="submit" 
                    class="w-full bg-gradient-to-r from-primary-600 to-primary-400 text-white py-2 px-4 rounded-xl font-semibold shadow-lg hover:scale-105 transition transform flex items-center justify-center space-x-2">
                <i class="fas fa-paper-plane"></i>
                <span>{% block submit_text %}Submit{% endblock %}</span>
            </button>
        </form>
    </div>

</div>

{% endblock %}
